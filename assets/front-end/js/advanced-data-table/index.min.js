var advanced_data_table_active_cell=null,Advanced_Data_Table=function(e,a){if(isEditMode){var t=e.context.querySelector(".ea-advanced-data-table");t.classList.add("ea-advanced-data-table-editable"),t.querySelectorAll("th, td").forEach(function(e){var a=e.innerHTML;0!==a.indexOf('<textarea rows="1">')&&(e.innerHTML='<textarea rows="1">'+a+"</textarea>")})}},Advanced_Data_Table_Inline_Edit=function(e,d,a){setTimeout(function(){if(a.el.querySelector(".ea-advanced-data-table")){var t,l=a.el.querySelector(".ea-advanced-data-table");l.addEventListener("focusin",function(e){"textarea"==e.target.tagName.toLowerCase()&&(advanced_data_table_active_cell=e.target)}),l.addEventListener("focusout",function(e){if("textarea"==e.target.tagName.toLowerCase()){clearTimeout(t);var a=l.cloneNode(!0);a.querySelectorAll("th, td").forEach(function(e){var a=e.querySelector("textarea").value;e.innerHTML=a}),d.remoteRender=!1,d.setSetting("ea_adv_data_table_static_html",a.innerHTML),t=setTimeout(function(){d.remoteRender=!0},1001)}})}},300)};Advanced_Data_Table_Context_Menu=function(e,d){return"eael-advanced-data-table"==d.options.model.attributes.widgetType&&e.push({name:"ea_advanced_data_table",actions:[{name:"add_row_above",title:"Add Row Above",callback:function(){var e=document.querySelector(".ea-advanced-data-table-"+d.options.model.attributes.id);if(null!==advanced_data_table_active_cell){for(var a=advanced_data_table_active_cell.parentNode.parentNode.rowIndex,t=e.insertRow(a),l=0;l<e.rows[0].cells.length;l++){t.insertCell(l).innerHTML='<textarea rows="1"></textarea>'}advanced_data_table_active_cell=null}}},{name:"add_row_below",title:"Add Row Below",callback:function(){var e=document.querySelector(".ea-advanced-data-table-"+d.options.model.attributes.id);if(null!==advanced_data_table_active_cell){for(var a=advanced_data_table_active_cell.parentNode.parentNode.rowIndex+1,t=e.insertRow(a),l=0;l<e.rows[0].cells.length;l++){t.insertCell(l).innerHTML='<textarea rows="1"></textarea>'}advanced_data_table_active_cell=null}}},{name:"add_column_left",title:"Add Column Left",callback:function(){var e=document.querySelector(".ea-advanced-data-table-"+d.options.model.attributes.id);if(null!==advanced_data_table_active_cell){for(var a=advanced_data_table_active_cell.parentNode.cellIndex,t=0;t<e.rows.length;t++){e.rows[t].insertCell(a).innerHTML='<textarea rows="1"></textarea>'}advanced_data_table_active_cell=null}}},{name:"add_column_right",title:"Add Column Right",callback:function(){var e=document.querySelector(".ea-advanced-data-table-"+d.options.model.attributes.id);if(null!==advanced_data_table_active_cell){for(var a=advanced_data_table_active_cell.parentNode.cellIndex+1,t=0;t<e.rows.length;t++){e.rows[t].insertCell(a).innerHTML='<textarea rows="1"></textarea>'}advanced_data_table_active_cell=null}}},{name:"delete_row",title:"Delete Row",callback:function(){var e=document.querySelector(".ea-advanced-data-table-"+d.options.model.attributes.id);if(null!==advanced_data_table_active_cell){var a=advanced_data_table_active_cell.parentNode.parentNode.rowIndex;e.deleteRow(a),advanced_data_table_active_cell=null}}},{name:"delete_column",title:"Delete Column",callback:function(){var e=document.querySelector(".ea-advanced-data-table-"+d.options.model.attributes.id);if(null!==advanced_data_table_active_cell){for(var a=advanced_data_table_active_cell.parentNode.cellIndex,t=0;t<e.rows.length;t++)e.rows[t].deleteCell(a);advanced_data_table_active_cell=null}}}]}),e},jQuery(window).on("elementor/frontend/init",function(){isEditMode&&(elementor.hooks.addFilter("elements/widget/contextMenuGroups",Advanced_Data_Table_Context_Menu),elementor.hooks.addAction("panel/open_editor/widget/eael-advanced-data-table",Advanced_Data_Table_Inline_Edit)),elementorFrontend.hooks.addAction("frontend/element_ready/eael-advanced-data-table.default",Advanced_Data_Table)});