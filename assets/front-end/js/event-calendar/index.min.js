var EventCalendar=function(e,n){var a=FullCalendar.Calendar,t=n(".eael-event-calendar-cls",e),o=n(".eaelec-modal-close",e).eq(0),m=n("#eaelecModal",e),r=t.data("events"),l=t.data("first_day"),d=t.data("cal_id");calendarEl=document.getElementById("eael-event-calendar-"+d);var Y=new a(calendarEl,{plugins:["dayGrid","timeGrid","list"],editable:!1,selectable:!1,draggable:!1,firstDay:l,timeFormat:"hh:mm a",nextDayThreshold:"00:00:00",header:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},buttonText:{today:"Today"},allDayText:"All day",events:r,selectHelper:!0,eventLimit:3,eventRender:function(e){var a=n(e.el),o=e.event;a.attr("href","javascript:void(0);"),a.click(function(){var e=o.end,a="h:mm A";"yes"===o.allDay&&(e=moment(e).subtract(1,"days")._d,a=" ");var t=a.trim().length;console.log(t+" t"),m.addClass("eael-ec-popup-ready").removeClass("eael-ec-modal-removing"),"yes"===o.allDay&&null===o.end?n("span.eaelec-event-date-start").html('<i class="eicon-calendar"></i> '+moment(o.start).format("MMM Do")):(1==moment(o.start).isSame(Date.now(),"day")&&n("span.eaelec-event-date-start").html('<i class="eicon-calendar"></i> Today, '+moment(o.start).format(a)),moment(o.start).format("MM-DD-YYYY")==moment(new Date).add(1,"days").format("MM-DD-YYYY")&&n("span.eaelec-event-date-start").html('<i class="eicon-calendar"></i> Tomorrow, '+moment(o.start).format(a)),(moment(o.start).format("MM-DD-YYYY")<moment(new Date).format("MM-DD-YYYY")||moment(o.start).format("MM-DD-YYYY")>moment(new Date).add(1,"days").format("MM-DD-YYYY"))&&n("span.eaelec-event-date-start").html('<i class="eicon-calendar"></i> '+moment(o.start).format("MMM Do, "+a)),1==moment(e).isSame(Date.now(),"day")&&0<t&&n("span.eaelec-event-date-end").html("- "+moment(e).format(a)),moment(o.start).format("MM-DD-YYYY")!=moment(new Date).add(1,"days").format("MM-DD-YYYY")&&moment(e).format("MM-DD-YYYY")==moment(new Date).add(1,"days").format("MM-DD-YYYY")&&n("span.eaelec-event-date-end").html("- Tomorrow, "+moment(e).format(a)),moment(o.start).format("MM-DD-YYYY")==moment(new Date).add(1,"days").format("MM-DD-YYYY")&&moment(e).format("MM-DD-YYYY")==moment(new Date).add(1,"days").format("MM-DD-YYYY")&&0<t&&n("span.eaelec-event-date-end").html("- "+moment(e).format(a)),moment(e).format("MM-DD-YYYY")>moment(new Date).add(1,"days").format("MM-DD-YYYY")&&n("span.eaelec-event-date-end").html("- "+moment(e).format("MMM Do, "+a)),moment(o.start).format("MM-DD-YYYY")>moment(new Date).add(1,"days").format("MM-DD-YYYY")&&moment(o.start).format("MM-DD-YYYY")==moment(e).format("MM-DD-YYYY")&&0<t&&n("span.eaelec-event-date-end").html("- "+moment(e).format(a))),n(".eaelec-modal-header h2").html(o.title),n(".eaelec-modal-body p").html(o.extendedProps.description),n(".eaelec-modal-footer a").attr("href",o.url),"on"==o.external&&n(".eaelec-modal-footer a").attr("target","_blank"),"on"==o.nofollow&&n(".eaelec-modal-footer a").attr("rel","nofollow"),""==o.url&&n(".eaelec-modal-footer a").css("display","none"),n(".eaelec-modal-header").css("border-left","5px solid "+o.borderColor)})}});o.on("click",function(){m.addClass("eael-ec-modal-removing").removeClass("eael-ec-popup-ready")}),Y.render()};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/eael-event-calendar.default",EventCalendar)});