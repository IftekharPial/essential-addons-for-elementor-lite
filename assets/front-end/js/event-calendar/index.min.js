var EventCalendar=function(e,r){var a=FullCalendar.Calendar,t=r(".eael-event-calendar-cls",e),o=r(".eaelec-modal-close",e).eq(0),l=r("#eaelecModal",e),m=t.data("events"),n=t.data("first_day"),d=t.data("cal_id");calendarEl=document.getElementById("eael-event-calendar-"+d);var Y=new a(calendarEl,{plugins:["dayGrid","timeGrid","list"],editable:!1,selectable:!1,draggable:!1,firstDay:n,timeFormat:"hh:mm a",nextDayThreshold:"00:00:00",header:{left:"prev,next today",center:"title",right:"timeGridDay,timeGridWeek,dayGridMonth,listWeek"},buttonText:{today:"Today"},allDayText:"All day",events:m,selectHelper:!0,eventLimit:3,eventRender:function(e){var a=r(e.el),n=e.event;a.attr("href","javascript:void(0);"),a.click(function(){var e=n.start,a="h:mm A",t=n.end,o=r("span.eaelec-event-date-start"),m=r("span.eaelec-event-date-end");"yes"===n.allDay&&(t=moment(t).subtract(1,"days")._d,a=" ");o.html(" "),m.html(" ");a.trim().length;l.addClass("eael-ec-popup-ready").removeClass("eael-ec-modal-removing"),"yes"===n.allDay&&moment(e).format("MM-DD-YYYY")===moment(t).format("MM-DD-YYYY")?o.html('<i class="eicon-calendar"></i> '+moment(n.start).format("MMM Do")):(!0===moment(n.start).isSame(Date.now(),"day")&&o.html('<i class="eicon-calendar"></i> Today, '+moment(n.start).format(a)),moment(e).format("MM-DD-YYYY")===moment(new Date).add(1,"days").format("MM-DD-YYYY")&&o.html('<i class="eicon-calendar"></i> Tomorrow, '+moment(n.start).format(a)),(moment(e).format("MM-DD-YYYY")<moment(new Date).format("MM-DD-YYYY")||moment(e).format("MM-DD-YYYY")>moment(new Date).add(1,"days").format("MM-DD-YYYY"))&&o.html('<i class="eicon-calendar"></i> '+moment(n.start).format("MMM Do, "+a)),!0===moment(t).isSame(Date.now(),"day")&&(!0!==moment(e).isSame(Date.now(),"day")?m.html("- Today, "+moment(t).format(a)):m.html("- "+moment(t).format(a))),moment(e).format("MM-DD-YYYY")!==moment(new Date).add(1,"days").format("MM-DD-YYYY")&&moment(t).format("MM-DD-YYYY")===moment(new Date).add(1,"days").format("MM-DD-YYYY")&&m.html("- Tomorrow, "+moment(t).format(a)),moment(e).format("MM-DD-YYYY")===moment(new Date).add(1,"days").format("MM-DD-YYYY")&&moment(t).format("MM-DD-YYYY")===moment(new Date).add(1,"days").format("MM-DD-YYYY")&&m.html("- "+moment(t).format(a)),0<moment(t).diff(moment(e),"days")&&m.text().trim().length<1&&m.html("- "+moment(t).format("MMM Do, "+a)),moment(e).format("MM-DD-YYYY")===moment(t).format("MM-DD-YYYY")&&m.html("- "+moment(t).format(a))),r(".eaelec-modal-header h2").html(n.title),r(".eaelec-modal-body p").html(n.extendedProps.description),r(".eaelec-modal-footer a").attr("href",n.url),"on"===n.extendedProps.external&&r(".eaelec-modal-footer a").attr("target","_blank"),"on"===n.extendedProps.nofollow&&r(".eaelec-modal-footer a").attr("rel","nofollow"),""==n.url&&r(".eaelec-modal-footer a").css("display","none"),r(".eaelec-modal-header").css("border-left","5px solid "+n.borderColor)})}});o.on("click",function(){l.addClass("eael-ec-modal-removing").removeClass("eael-ec-popup-ready")}),Y.render()};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/eael-event-calendar.default",EventCalendar)});