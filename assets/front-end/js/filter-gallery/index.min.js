var filterableGalleryHandler=function(s,f){var e=s.find(".fg-layout-3-filter-controls").eq(0);if(s.find(".fg-filter-trigger").eq(0).on("click",function(){e.toggleClass("open-filters")}).blur(function(){e.toggleClass("open-filters")}),!isEditMode){var c=f(".eael-filter-gallery-container",s),t=c.data("settings"),d=c.data("gallery-items"),l="masonry"==t.grid_style?"masonry":"fitRows",g="yes"==t.gallery_enabled,u=c.isotope({itemSelector:".eael-filterable-gallery-item-wrap",layoutMode:l,percentPosition:!0,stagger:30,transitionDuration:t.duration+"ms",filter:f(".eael-filter-gallery-control .control.active",s).data("filter")});u.imagesLoaded().progress(function(){u.isotope("layout")}),u.on("arrangeComplete",function(){u.isotope("layout")}),f(window).on("load",function(){u.isotope("layout")}),s.on("click",".control",function(){var e=f(this),t=e.data("filter");e.siblings().removeClass("active"),e.addClass("active"),u.isotope({filter:t})}),f(".eael-magnific-link",s).magnificPopup({type:"image",gallery:{enabled:g},callbacks:{close:function(){f("#elementor-lightbox").hide()}}}),f(s).magnificPopup({delegate:".eael-magnific-video-link",type:"iframe",callbacks:{close:function(){f("#elementor-lightbox").hide()}}});var a=s.find("#fg-layout-3-search-box button"),i=s.find("#fg-layout-3-search-box > input");a.on("click",function(e){e.preventDefault();var t=i.val().toLowerCase();""!=(t=".eael-cf-"+(t=(t=t.trim()).split(" ").join("-")))&&u.isotope({filter:t})}),s.on("click",".eael-gallery-load-more",function(e){e.preventDefault();var t=f(this),l=f(".eael-filter-gallery-container",s).children(".eael-filterable-gallery-item-wrap").length,a=c.data("total-gallery-items"),i=c.data("images-per-page"),o=c.data("nomore-item-text"),n=[];l==a&&(t.html('<div class="no-more-items-text">'+o+"</div>"),setTimeout(function(){t.fadeOut("slow")},600));for(var r=l;r<l+i;r++)n.push(f(d[r])[0]);c.append(n),u.isotope("appended",n),u.imagesLoaded().progress(function(){u.isotope("layout")}),f(".eael-magnific-link",s).magnificPopup({type:"image",gallery:{enabled:g},callbacks:{close:function(){f("#elementor-lightbox").hide()}}})})}};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/eael-filterable-gallery.default",filterableGalleryHandler)});